sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: GBF6WPc2p+G5SXT6CB9V4fk6u3+dh4z0k8MY/zr3qm3oXT3C5KtoRIYVB0EQ8/fqIMpiIe2fBHQFS4/4LiQar41gis2YxbA2aIX1oudjBHeIu3IiWKbOG4+wW8KBzba3e7+XjXLAxc4T4S83sc1/YaavJPx9K8QfhJu3U7Ml0X5TDbUkRPn88dmGQWnHqBDlgQAS8pp3dCzX5Hy3LEN6LZO+QeG0dypRVz1+eRo77RvqWt5VUpzdiAqdCEQoxAA6Dr+NHs2AmIsYeaeEnbdHUGYlau7W3HuBDiOE+BH4J23ys2+1YnHzkhXbLpLrNUA4+LNa2u9fWplqpYO7GCoVS5A9rAPvvsSEw3O5UP7EqIObmnETQu2jClVXJyCoLuIb4xeDWGDsqMr7JU1+BjWS/HsL8aYbkXh8B2T2HRXdh7XYRySl+Ts6YySRe3OeXnh/Ia9txm30nykpzcDyDXXtqmdTGOu9dtI7NATLBmDMhgMHglK1MzGvTwaVZ3exj4mGFfeX1cvn/cr73omve7cSiZJunWIrDZHdrian9aT6/137NiLG6Reyw9EwazgDH46+A/UMdtxyyaSDoxN13KvC4mP4jF8tjI9KvUkWsXOsqvnH2XG5DtRC4Sh185hH4oMUJZb/Taxl5XhmhSAzh7zFIVsXvzzqDYBgwaWFiVXl5nk=
  - secure: BlOGvejrE8kDXREVWCzLo0rVpRhlL+1iQ3bnF1wnHBkUPUz0f8O4krYcTb/5H3Dgi2iUk2X+mTtzD6HMqtjlBTBFEfXLeSUCCINVLfrkmQ4QdZouoVho/r12NA4HXo6YpnT//0q6dcD/+4Poy1EV8AZUowgiP0xJ9ylzIdqHddSp7kdm8XFeX9sWd1RcWAP6GyIusTTUHzxbGulwcaSa3Ps6WZpanGd+QAcDoUhpuEBvK68n+qVsfQj6KEDKav3eW8H1ilGGfERDw9+r8u2CbJZf0gFsrP90tvdHHqfHu0ANFyWbW4DxcNxzP4NM2emND8DBTDCQUetE1nm+1m8Z5tBPfF9QS0LWNYX7brPlQQuGasHYglD1nlfJlfToVVr0up9HEzxbK+8CDKKktv4IAs2Q+l7eDH3Tmpq6bCdZgriKV03iV1BhXOQaOX1GDJR/Z0jNTikxPGyVXisVqn4uFBCLoKQzUs0AHsyek1qND1qtgPZtIdNrXgzhws+yES+idn5PyvPGT3s986L5h9hcYWkWCoCmK+4pKmrwchXe1L8IOoTagtnIMaDelkbB68XXrUABDk8Ba4Dpn+xrnFAyMYJiVATBXcyjDuu2jCNu/J2XZf/04ehjW+C9fiI5T4d2vNzE874K5p6s96aONOH1ZjNA4ggoBKYv4TsgI6XvPU0=
notifications:
  slack:
    secure: PAiNCZf1uGgka60kL2tuOmjaVjDA9W+NV+y3xIWH7SUisHbCyuwuTSHD3rwoxqH8T0CdbS/XvJYVVmqhLByv8AJh5BFcbgjvETZjrtPgkzfE6/mBsCKJFABvflG2p9bU0KSz2o68CuVQsQ09Z+0msLC7g0nZLeWqMBp3RLBVyGK6zCVBLS9A97Jo7E30q427jCQ/pRlGan7euHxRaxTzzhTW9plYOGU/a8QgVJJHrIb/BmB7pDapehBN5h8bPai9YV740DfzSlqdqHdT6HznluCJ/5iamE17Ovgjnv24Y2SrA14fbNcpeI5gYItVWtMbNv74mSyiHbMzqj19FI8gvURDi4asRD/dQqz/rmkiR6/xdTzdr/e/UhpZ8me8SQOC6BUITBrO78NINfo+pK+UiJJcb5DWVNOMwsfn9lAgtkCrXgC/uvF05CPx+3ENLRXiOqsn5BUbmIaqnE2Rz8/Avjoey8XgPO5ri3bMIgm18FPq2qvyCQMe107ozLhOIf/iNirHB6u0+A5EkVblMhaQLUZsGUJFdDOmIjBA/ByuCstPFdXcCsujnAjLMVF3/088CEoXlgrmn98q6+8RLm8mnLBH5ryzooqNm30AKjuVOLEMPLTBoKRBK//2573fq7pTCVoLvHO2JckphrDZixUi1Zwqcj5JWjp/iBlAbfPzkVA=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: KCh+EhZjqnedYgB2U+FOWsCJJgXEGoF3ZnYghqd4C+RAeYEuPQPwEYRlKonLbzoiXIY3VB2Nl1Qf9+//rp+V3HkyjYH6dqLITGubDhLydIsJomS6BMVAuQcYoODZs6SYuL5aG8M/jK1k6pDCmWSZGcIkwB7uFhRI0K4A6CCws2Ev2k43+onAwMop2tj1naruAdUVqT+nGEmyakCozls6Inz6m/Cp1SB4f8Y2kQKaj58V5RNRxwlBii1Ao6Q2piNmbGi2jXc44fLVrH0nh03YFpYQQc+uvdY4gaHY11hItOABxVY7Yf3/iRkNkZT93qjpgpDOJKaGi1L/9+jYCC0J3DGPrr3ZU8PwXRC96D6TapmUKn6jVRxMIQ17wfjm0jFcB7+FUNghXvffe8x5z48t8LmS+QV78v5/w4qqF1T6OWLX9Ou7e/5N3hrxDqfMRpPkSm62uk0j8mzJIk4UZJjfgzfNTDSW89SJGw4igNG50vequS5+MqmmytuI3r3GrjapirFkKxIOQwcmIbCgJ2KsiDyAcEu+9EyO4Th44mKi/PaOHAeihFAQkHmqZGkkk1bTigECNJ1UjwzUv6zg1H3OWBJkuwkF8MQPpx3n7mtlXvOKDbqHLHMSAY3TJGQX/XJV8l7opnSGccFhzmwKcY7wIM8nRJrdX/0WASAOYAjc+ic=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
