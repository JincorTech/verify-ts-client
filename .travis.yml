sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: ffRFQPaZAfMPRGUp01lEyiGGGBxl0dj8buMyVTuqGS6CkXTWkAFRYligVHYo4n0MCZ2T4SAOjDnkl2Ze/+u2Ze/Gzah60r2GRbdmhlMBdG/mn8AeZYZIhkeP2PuBl9Exf9jcwTv8Na8RYMekky7Z35o7nNOEwYr1P+ch3ZS5Q6TzAE1we6X0HN28dd3yh3+iAhJTq4ZimEgM8KXoWp1Q7oyHBsOjiPmXD34iVcC6YZm6pVND0X8rMqtQX0o6c/0XSdkhPTYA2FvhQVgxJ9MxoJVfmZ8huDD42CF5T7e7qP7+WOGMdRDAqQX/FfKReRoENgpFxWOaxzDWx87ZtIwQNoMcU73HiLspaizsParFb8c9GeTiBHCpxx+A5cOrolcIcjA66y5DxYYWiHabB4GQADr5FB7UFZKXqfew2+g3bPWBLiTJCcYp+7S/6eXu4j4bBYYvYUpaieVA4y2Te16CMpkkRa1ClJSyNtwXF42H2Q4NgHH5AUY7yrjwIifY8QQm2AsP5EcRsdPOJqcAPENcxkdaXSARZgUvcu3kZe9Zt7pO/cltsQujFNIdDquOpUKN1dGP5p7DUFypoaUmK9f3PfrdRciNb5Rbwh6ma8HmU45CdRyUfd31NwpaWlt/Chkj0aNvmk81jl3+00HuQlUrLbuEW/DkX3iiE7J1atNHixo=
  - secure: DFjtxgk4ovRpRQluXWri+dbW13HQzka/6tOrzCdjw1CqKLNcIUiPgnNBJCMbFlKEhCfl42cZ72lsuuc6wdWRZQMKtqG5igkWmNpZ11zj1KMIU3xM1buvLI1HQFfL4u0yiKG6jJpV3stGJW6GoVZ12FD0IRMtq/kCF8/7jNzQ4fz1L0U+snvHnCk0sywKunlKz10nHXVkci5NNS93on6LO+IvFkyod3QyWtRPG5GYcU9HmeCOKOsvE3gWipyRdLJJQ+vfUOnDny5xYhyKwosXUbOmVwkmDqzW/t4Whc0aDkbubwl6bSTS6YpUte1jZ45k+uQ4MPvUDdBjby9USiGsD3cyuaEeaZPBWsMXkn48mtvfwLh0kZ7NZxDXejzBVUmmbFC7LNUMw9X4Si4WXmSpsYmxHAaFN510J10lT2dkmge0Ft2ureNnt8LEIvAWU5jCg5vks4Ljts82rVWos7yCd0lcjVCRbSzYU3+Fq6Ga2e5qUPxtsV20IG6dazS2oikSRCoJdq8/zkbcKnPcdJqVVCoENvj3RHaN7ni/JwgQU1QkwhtEr8lUgS7PlPZYKUMowgO93EMnMmUwv+fshSjQykxU1VpBW+VjsuAIXAUnX3pOIHiOhgAx1811eIC/6KJbNddFV/g87OQihM6kEj4RPD7gC0XSN1Z4xWoEqCr997g=
notifications:
  slack:
    secure: fgKcQON3lfM2Q1p3grgp0lrY5Yf1BeOvzfvxydzr4U0PrzMyQo+UwXs5n1dRF9FivTo9qQ3Vc5NW76T09KFcNXdPdaq3ZGv0wYvNPKkADyr3G5NalsHUtWgizLAE4zxmfVUMf82H0Vs3DWUjmafe36e+97Z/Aj+dduXLUm4mav1qh76Ns+vO8/isB3kak6oatsK+l78+iVHjZycutMoP45lo8ktCoK6GGcN9iIn+YyfiUCz4ADj3AzT3ohLluO7ncNPTmK3cRbzHTWXgWBoz8nRuK/0iC6oMbkTW3HgsrP31mfr6tla2rGkTNRHEEkSXN02lLmxy6rtrHnz6x8C9SqMN5xaijafcqqqIkUdznKIFVbZid4VMvFAimuWn7fbldcxRrNBYLQdpZkCO11rXQ9Pk7wadQ2pannwRwgzK9reaBywQXSj3+MLiROzJ4R08VN6a0n3mzfwJOJjcQX2ywwyu62VuhEULz3wwxjHuXGQQ3qy3z6FizQT/DVcquL++Po7cAtoyt2noRWWV770KyRPk8dMprM7E7VPsZWF89Zm7g6m389F1esNQw3iZsI52/AoWBl7nibPtNazYeLIbsh+OT8dY+5FOQC30Si9d+yV+2WyJ4GXbwCUYkwvfILAI0Y3AUHToiVl7tKekxD7g4NiADi9O1+X+orzbJNS7T6I=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: ArK4mWeihbc95GjT+sW7C/F/RaeqQNPPdQ/kXQQiahUIEacVBJ3BGOp8ArxM/2iQgjg+D86LxaH4dlixXsBh6DAEV9EY0Ck+PwHObcyl3NnfdEqnjKtIxqirRh8ax8jk7xVnHPJ7Qo90dVJTrhT9y/2p8wC0+4cIDd0ONqaIy9mpR7cHtWtvCc8XvrSYIFZ2w9pVMApDl8x9uCM20KQUjmZwukpogX/kxa6IaTNE3bvvmWRvhQk8fR+W5TNP9/SHv0jLP29XNOnuKndrP3vHpfrjKwGB7hJVnHctqBY2J/WgV6wTKA04C/xb9zMbr/FLXj0Yi/+6IufGql0gHm3VT3eYUB/0KT6munPfAB10yC0RmxMzDIOKSAzpK3DGwPrwruU7KXJ/WUUlrSMK0yQUpo3hyEnZkowubs0410YzbwJCQu6RbqXggMO0+PT3sLGsP9H8MKs497f7bITC577fYjkrNt2OOjpzsedYB4+ChBVd8tdGcqabpqBCe2DK3lTQA642wMMOf7wnsbVeoi9hM2DDRgcSsIlb/Cc4ML/etCqttEgGOnFFuiyp1kM65N9/32r2BS0wNzOZ5DLUJE+GvcdXG6yjaELPGRw/2icgCGyZ3+IXkBCbUIxrX25694DnvboqgJZyypsxbUUtUDh9M1wGFx2HaebX8jV5txbBWds=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
