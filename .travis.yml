sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: ktiguwto9PsfHHScgrARUxiNj5vpmlV5jNfREgdbZNEniAp9weIEyxCZmSxM1et/8pxu3SGsAlxQfv8EzwszvB/lPo0ce9AQfOxzh7yvqrwGMpv26dJcWO7zUlpuzc//ljTcFllXeAXFOv0S7yrA0y6CAVyU0IXGGklvmF/aYHlJ8AR2EsufVWtpf1OpR17rzm8/ij951aIqaHykP9om7qPV01lqc6Hpc/L9BfGf8+AL6VJyur/3y4ldjJrRk58VtMLAz9Ap64FybKMtOKdN9zAgQ8ZpmGRbFEkjCcJJImWwB5a2HMyCsz+w827ibfZEl083YxbrrAH2bENURXNqvDI8lbrAzThzXrn4Td2cK9jdt6kOli2JlzYTkqbVASGoNNdcFjFfzQSIikTfIJueBE8rGIQHc/sx/hS4g7+re47GZ0PG9ZMpB1/wVV++akEbL7SG11bYXNMokTej5b8pT9E2VMNipjbuW1C90CTj3jwPwOE4O+1nPe2mqmRbKaX43s7zuSMXUU3V7WbSK62j2seKMQDomCpWn9bPa9Xz3l7G6gEKBOXsN70PKqmZ3Y6KKrKmldruzsLhmBZG+bGu66P6mR8UQF0m/BjTLJXpqdH+BZ6LN3X2eBVMu0zWqksaf2QQ9Yl9CJDs1vw1VdMaXzYcX9+FJwoC9fsnXRtkl20=
  - secure: HrZogL/ZWH5GVFHlx3WrZC0B9DQ+jgwn3o/8LWxj95w+ewk42ENRJQ7JDUpgD6On7uueTLNSVOTQHv4Lu71wwJ5ZIlWL8PF07Cv9Q+XBz2U6GkX8/zApgS+3RmSmBHXGFn/62phMadhS1zOejAbPm/i5nM8icYX/65cLxh79QczKX93mhevFK9aBehL2fHQECQYjxJpCLWTIroQw7Koy4o2hz04fXNbZ6N+jEixI6TwFdI8rGXzeOH22WIkZZYrC3T7DuuMpxPfWVH4Y6AoOnBsxvGUYs6NLrrDnl6bn5tTjimyY6XLnC4pOv4rxc6clf+pT8GqqlFH0ZuJYe2A1iEbdDlL2QlO+/wDICQz6MyqEWHhXMpsi3kbGTQD3tTqu46ha6EzCf1ip7CgAHPJhp7HRLvM73l8bVc/H+Gh/OVhqDwQDnZTRIOezTA4MtjFcF/ZuIVAu25AQuk74RTqAwartJSt+dbzMajkXgLqKPYyozTs688ZzTmIcYISJl9sCZt2iiXo6urjQjueBwg5Yo0Sj9T9HyAfQigWyT99OxZih7BXTog8dOCpxDlscV7l8buqjIJOcgmTVUNpATHo/OhX9i7iFSG3496ZIeOrJozOuH5S6PUZb0fV424zoHkjNfZCxop3Y82KDvCjxejJHqdxvkGuvSCegh4iecOHc3us=
notifications:
  slack:
    secure: PAiNCZf1uGgka60kL2tuOmjaVjDA9W+NV+y3xIWH7SUisHbCyuwuTSHD3rwoxqH8T0CdbS/XvJYVVmqhLByv8AJh5BFcbgjvETZjrtPgkzfE6/mBsCKJFABvflG2p9bU0KSz2o68CuVQsQ09Z+0msLC7g0nZLeWqMBp3RLBVyGK6zCVBLS9A97Jo7E30q427jCQ/pRlGan7euHxRaxTzzhTW9plYOGU/a8QgVJJHrIb/BmB7pDapehBN5h8bPai9YV740DfzSlqdqHdT6HznluCJ/5iamE17Ovgjnv24Y2SrA14fbNcpeI5gYItVWtMbNv74mSyiHbMzqj19FI8gvURDi4asRD/dQqz/rmkiR6/xdTzdr/e/UhpZ8me8SQOC6BUITBrO78NINfo+pK+UiJJcb5DWVNOMwsfn9lAgtkCrXgC/uvF05CPx+3ENLRXiOqsn5BUbmIaqnE2Rz8/Avjoey8XgPO5ri3bMIgm18FPq2qvyCQMe107ozLhOIf/iNirHB6u0+A5EkVblMhaQLUZsGUJFdDOmIjBA/ByuCstPFdXcCsujnAjLMVF3/088CEoXlgrmn98q6+8RLm8mnLBH5ryzooqNm30AKjuVOLEMPLTBoKRBK//2573fq7pTCVoLvHO2JckphrDZixUi1Zwqcj5JWjp/iBlAbfPzkVA=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: KCh+EhZjqnedYgB2U+FOWsCJJgXEGoF3ZnYghqd4C+RAeYEuPQPwEYRlKonLbzoiXIY3VB2Nl1Qf9+//rp+V3HkyjYH6dqLITGubDhLydIsJomS6BMVAuQcYoODZs6SYuL5aG8M/jK1k6pDCmWSZGcIkwB7uFhRI0K4A6CCws2Ev2k43+onAwMop2tj1naruAdUVqT+nGEmyakCozls6Inz6m/Cp1SB4f8Y2kQKaj58V5RNRxwlBii1Ao6Q2piNmbGi2jXc44fLVrH0nh03YFpYQQc+uvdY4gaHY11hItOABxVY7Yf3/iRkNkZT93qjpgpDOJKaGi1L/9+jYCC0J3DGPrr3ZU8PwXRC96D6TapmUKn6jVRxMIQ17wfjm0jFcB7+FUNghXvffe8x5z48t8LmS+QV78v5/w4qqF1T6OWLX9Ou7e/5N3hrxDqfMRpPkSm62uk0j8mzJIk4UZJjfgzfNTDSW89SJGw4igNG50vequS5+MqmmytuI3r3GrjapirFkKxIOQwcmIbCgJ2KsiDyAcEu+9EyO4Th44mKi/PaOHAeihFAQkHmqZGkkk1bTigECNJ1UjwzUv6zg1H3OWBJkuwkF8MQPpx3n7mtlXvOKDbqHLHMSAY3TJGQX/XJV8l7opnSGccFhzmwKcY7wIM8nRJrdX/0WASAOYAjc+ic=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
