sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: QHcqOl7kVTMhX1av2z/Dj6NXOrzy5O9xJbzUIjR8jXAkxunOwzvGqBCdVrTot0lIqVxOApjypJgS84IzhoGhWPx5J+MdkvT8r3RpTDEw4fAyZbHUbS6mWL/U0E9IXAyEBLwWtrr6nTzxgFm8AX4DECo9ViEJSpxdMRd/kvvsRno+IrF8zoLNnze3eHpFkCmzYs6argNE4GW4nqPHmOqiookORCfeyuYOfbROKS+Qa123ZPogwKlyztb4hEMI/4zYMmyzxCY4J8XK8vf+ss+uSnI9lvPdjhaJUbibyZddmHwuo7evNitZ5d/HFu/YMeA2q6A0S6FD61VNiUHgbFmz92Jhn0m2pBhe8kcKBwYiM1npXLV+/rrdzfutvhS0CZ32Xwae9yRCl3J+rgmIoFqHJAHbcR+VijL+Z6QvClZarh72/z9Ti+XxhzH0rM3kXxJ98V8vHnkUDnytw7GYCyeRNM1QfVb/EO9hMUUBuac3Lb6c0wCcl6zLJnIYhkJLv/3UCIvvG26BXbPGZom8RRmm41y58UxWk/2w0V1x6bVbW6cosw6eM/g62g1ohrisWv+8qTsbpwH3OtkDzZTKY4tseu+OSV6ZxsndQ3Qe2P/vKq4evYUbjqtXwxtXCci4+s0N0DBrf4GRXK9gQe8nqWe6EQZDZPsK+cdl280/z81t4RY=
  - secure: Gi0H9SSlk44wRvZxjm4TKvtPNa9NVimm7XT0++V8HEDKZLk5vCvylNNlSorFr3ElOjbXrqEcEXERcGb/m+rXBISPoh5gRv7yRNi5XdFUQuNnBRLZF9gfwEqMJywHdweSnVoaRArKDhQt1OAwS86eqKC6r/e4rbxW+6nj5EwRLZOtVdRbMRGUK2TElECSmhVCohur7LUAesw6CFo/K1qOPWhqpoO74DBo2qKobO1aAxQoh4guOow4ZkZGBBJ9J+TX/c8l1UdWbAI4qp+Lvt4ljRrthSH64F27BBGbKtw548TwwM97YFDaBBpkfLl4mGQlD62lp1lnmQgl8oDY6hecSM8H7a+333ZczdojvgQ4cMaBpvuRJBsVP2rhEaz0+Ck/wrSNzT8PhIVaNoXWXHMcWQ09UiBGk2hmMeLBSfBznF4o4Q2+65l5kNDGecBtiUUu4syOBosZlyIbeU4HWzX58a2QXn+OL+zxhzHr8guFZTeLgVTOwtZlBIZ0snTrUVDwts3asDHwwW4ULyWMblmM4Dw9Ro9s6uM0sNCaL5m9YaQIb6a9K2OpMNF5ieD9gzVXwLxALjpbHyydZTQrqX1cZ2EiyANSJVakwmr3D73TXpgyTgorYkoxYGxMtrZkhh8WUuWiugV0hKR+MGt1EscbRHTAT+0IIhPKQDneyn+itlA=
notifications:
  slack:
    secure: PAiNCZf1uGgka60kL2tuOmjaVjDA9W+NV+y3xIWH7SUisHbCyuwuTSHD3rwoxqH8T0CdbS/XvJYVVmqhLByv8AJh5BFcbgjvETZjrtPgkzfE6/mBsCKJFABvflG2p9bU0KSz2o68CuVQsQ09Z+0msLC7g0nZLeWqMBp3RLBVyGK6zCVBLS9A97Jo7E30q427jCQ/pRlGan7euHxRaxTzzhTW9plYOGU/a8QgVJJHrIb/BmB7pDapehBN5h8bPai9YV740DfzSlqdqHdT6HznluCJ/5iamE17Ovgjnv24Y2SrA14fbNcpeI5gYItVWtMbNv74mSyiHbMzqj19FI8gvURDi4asRD/dQqz/rmkiR6/xdTzdr/e/UhpZ8me8SQOC6BUITBrO78NINfo+pK+UiJJcb5DWVNOMwsfn9lAgtkCrXgC/uvF05CPx+3ENLRXiOqsn5BUbmIaqnE2Rz8/Avjoey8XgPO5ri3bMIgm18FPq2qvyCQMe107ozLhOIf/iNirHB6u0+A5EkVblMhaQLUZsGUJFdDOmIjBA/ByuCstPFdXcCsujnAjLMVF3/088CEoXlgrmn98q6+8RLm8mnLBH5ryzooqNm30AKjuVOLEMPLTBoKRBK//2573fq7pTCVoLvHO2JckphrDZixUi1Zwqcj5JWjp/iBlAbfPzkVA=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: KCh+EhZjqnedYgB2U+FOWsCJJgXEGoF3ZnYghqd4C+RAeYEuPQPwEYRlKonLbzoiXIY3VB2Nl1Qf9+//rp+V3HkyjYH6dqLITGubDhLydIsJomS6BMVAuQcYoODZs6SYuL5aG8M/jK1k6pDCmWSZGcIkwB7uFhRI0K4A6CCws2Ev2k43+onAwMop2tj1naruAdUVqT+nGEmyakCozls6Inz6m/Cp1SB4f8Y2kQKaj58V5RNRxwlBii1Ao6Q2piNmbGi2jXc44fLVrH0nh03YFpYQQc+uvdY4gaHY11hItOABxVY7Yf3/iRkNkZT93qjpgpDOJKaGi1L/9+jYCC0J3DGPrr3ZU8PwXRC96D6TapmUKn6jVRxMIQ17wfjm0jFcB7+FUNghXvffe8x5z48t8LmS+QV78v5/w4qqF1T6OWLX9Ou7e/5N3hrxDqfMRpPkSm62uk0j8mzJIk4UZJjfgzfNTDSW89SJGw4igNG50vequS5+MqmmytuI3r3GrjapirFkKxIOQwcmIbCgJ2KsiDyAcEu+9EyO4Th44mKi/PaOHAeihFAQkHmqZGkkk1bTigECNJ1UjwzUv6zg1H3OWBJkuwkF8MQPpx3n7mtlXvOKDbqHLHMSAY3TJGQX/XJV8l7opnSGccFhzmwKcY7wIM8nRJrdX/0WASAOYAjc+ic=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
