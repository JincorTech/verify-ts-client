sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: Ry2jX+obGluTNmpw68kfRVjfRTv+QpobIOXc7CVqIdTSPTypSJ8be5Noq/UtzFF+J2JGLpzuZSceV6xZ3b7mzQrYfbmluhOJXUeV1Lvl0KpxHjZUCI/TywSSldr4JHHU2gYjDWSTE2riqPWg5nxj6ijKm10PdbrXk78I1AUlK+2Y+KGkYqBT36SNbzU0PmQKGlU1ZAv7GtpYPbfF8bnlm8ncZKY+7d6LnV0CIAYFZblFYtNRgj3gmM332svwWhcZ8eA2ANfqNhRWWAJ4KrX7l9g91TbBd6MEsrPQNqeGX1TNuo+yMyBU00EEY3nBuDJ8e0unsX8jdYGEe7NmwcVa3Gi9Q8RjAxrIuBpGyULeZeJOZOkpKGyWbweVOdua/YAW4dE02IoYY3WYlMbAhx9EQhVdQfG0Td0wnlV0X/4M9RchwrHDZE18J8SQHkJFyfL/SDgaqH0MII8hDx8rVImJxEc5IWvcIfxP6ZRneXkbp0Ok3rNbss+is/o3J6q8h5KspkjrsJnkJJiuyW81yae1lEQY2RJA2BfOqf36XE9PE+XW/S2jT/tqeUDIOgOjrtCrcGbhENZWqGpcYEjORHGNUGL5dhJUDU8/CQ8985NMv0n4GNL861oefQZBbfZgqWkzbk8eZfmDzYmhOj4Kk1kOO4vA9P5h7yOssf95j2GTp+E=
  - secure: KrlOnedLx2CI0vUQdmyUBdVhaLNPptfQED4QCG5GkRn5KW4mP6BTm2MgxD88j6KVBqmHLc8tEa31j6BRieOohYq0GLxVggFjPo1LE2Yp6vvPVaLo8e+gzkq05QKdXkLx6yxHvF5tVw6BKztoZdkHfGXWWSbrolqjZLSXpflc/BDTRKJCkQw4qIyoNAJ3/JZ+/8sr6VsPFTVCofUZZ0Ijmy5e+qgzBMXRHi940feucWK3U9qjlF5THfnbhlYYSEwbuKqU641siFeP4dr+1kjFCuudzD263kjkzyiyJKqtbpbrtwnbjF6MF6NnYc+Mh2U98ymujS9s86j2gFfIm34tAukbp98xnXguJptZp4Zx2sDmKpyBw0JNujJmvxwH0Yv02FrKIVUqORVhEKW1e5yEXrGD64XrtuNddFaSykeHeDrxe80CykOWpMXWme4h+Ihqq8hViYFTsjQR0k40Z3K1Ko6+fMVuNbK9oRAAMOSBhU3iw3SXwf+AFGiFX2ace1M10vJfY/QeBG4D+7V1vNIGvizMReeTOB7RZ5Jjg66+S/NkP10KksXZOv9R7yyD396kHIi0aVHCheFGp6gPIit/wc4jSYpF4m37ZKrT0soUWhUtVW5opT+jYx0ll8n37TYbBVfBgHpZdGrHsV6ILs3oLhwLgxGnoXS6hdGC0ZdYqWk=
notifications:
  slack:
    secure: PAiNCZf1uGgka60kL2tuOmjaVjDA9W+NV+y3xIWH7SUisHbCyuwuTSHD3rwoxqH8T0CdbS/XvJYVVmqhLByv8AJh5BFcbgjvETZjrtPgkzfE6/mBsCKJFABvflG2p9bU0KSz2o68CuVQsQ09Z+0msLC7g0nZLeWqMBp3RLBVyGK6zCVBLS9A97Jo7E30q427jCQ/pRlGan7euHxRaxTzzhTW9plYOGU/a8QgVJJHrIb/BmB7pDapehBN5h8bPai9YV740DfzSlqdqHdT6HznluCJ/5iamE17Ovgjnv24Y2SrA14fbNcpeI5gYItVWtMbNv74mSyiHbMzqj19FI8gvURDi4asRD/dQqz/rmkiR6/xdTzdr/e/UhpZ8me8SQOC6BUITBrO78NINfo+pK+UiJJcb5DWVNOMwsfn9lAgtkCrXgC/uvF05CPx+3ENLRXiOqsn5BUbmIaqnE2Rz8/Avjoey8XgPO5ri3bMIgm18FPq2qvyCQMe107ozLhOIf/iNirHB6u0+A5EkVblMhaQLUZsGUJFdDOmIjBA/ByuCstPFdXcCsujnAjLMVF3/088CEoXlgrmn98q6+8RLm8mnLBH5ryzooqNm30AKjuVOLEMPLTBoKRBK//2573fq7pTCVoLvHO2JckphrDZixUi1Zwqcj5JWjp/iBlAbfPzkVA=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: KCh+EhZjqnedYgB2U+FOWsCJJgXEGoF3ZnYghqd4C+RAeYEuPQPwEYRlKonLbzoiXIY3VB2Nl1Qf9+//rp+V3HkyjYH6dqLITGubDhLydIsJomS6BMVAuQcYoODZs6SYuL5aG8M/jK1k6pDCmWSZGcIkwB7uFhRI0K4A6CCws2Ev2k43+onAwMop2tj1naruAdUVqT+nGEmyakCozls6Inz6m/Cp1SB4f8Y2kQKaj58V5RNRxwlBii1Ao6Q2piNmbGi2jXc44fLVrH0nh03YFpYQQc+uvdY4gaHY11hItOABxVY7Yf3/iRkNkZT93qjpgpDOJKaGi1L/9+jYCC0J3DGPrr3ZU8PwXRC96D6TapmUKn6jVRxMIQ17wfjm0jFcB7+FUNghXvffe8x5z48t8LmS+QV78v5/w4qqF1T6OWLX9Ou7e/5N3hrxDqfMRpPkSm62uk0j8mzJIk4UZJjfgzfNTDSW89SJGw4igNG50vequS5+MqmmytuI3r3GrjapirFkKxIOQwcmIbCgJ2KsiDyAcEu+9EyO4Th44mKi/PaOHAeihFAQkHmqZGkkk1bTigECNJ1UjwzUv6zg1H3OWBJkuwkF8MQPpx3n7mtlXvOKDbqHLHMSAY3TJGQX/XJV8l7opnSGccFhzmwKcY7wIM8nRJrdX/0WASAOYAjc+ic=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
