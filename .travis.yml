sudo: required
services:
- docker
before_install:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
script:
- docker-compose build verifyclient
- docker-compose run --rm verifyclient sh -c "yarn && yarn test"
env:
  global:
  - secure: EbOw3iSeStsy9eBn97GTErwckqrIJSX/NrrjskryzuSi+qklvqQmmJfLH6IXiAfRsiwpIs2LAH+Tbj3cfjO6C8Rg8xasIBmqK2iMxzTvOchORxs3a6xQT8boakB6MtIFDw7sxpHEmDKcaMQzq0/+4MqKtFSbj9IIwoBAT+yYWS2f5naE1aOcvDutKKv9uB39L3GMjOV8FCGrMghP4GkjPVjbCy6y9D+2hWQ/zR+4K/8OxGcB/cofuq0mlZL2u5DcyX3ppXt76paStkW7HAacfkMR/xpKOcyg2qAxj8fVnjDBEQL5b497hTX589gTNOEXZv4o2AT1e8bGBMPXI50OLh2TkGHA0dN+nuK0bJ7eILJ0rc5+EwkdRNQFRbbrCig9rUssw/epC82MCi+Kxf8yCzB3EEfCswENx2HNxsrE+GLCS8ylGpAN3J21wd9fTDr22ExYATe4LP6wDyDDOGvRnYp4uE1CkcwnYrMUngOAaeC3h8dPl1b7XT+swDtiZ0gupCCqJoAhWPP9z1RI2i8kJUpjKSGV54/w+G/ViL6alLDjB5lwQikqNgZtjQ5u9ZekEdynDsPTMTvq7R+7Fcci1ck0kHhN9OlSFMs2MoYINsBodDU+c75bZDwkCcyvwbel2bsMce0V6OL45S200KUVKoavpUvRt6l4N989Q8sKYxw=
  - secure: XLV46VbvCOp+wrwHFlGR2+7orWiPLRyaGG7zvuCcnA9y5aWBIWxPQyLeqrARpYRpRMwqHnnGWHfaWy+yWW/ynq7Ff9oMK/KFI1GpUjJHdIrPSp35aU8nyQa5jkExAJGWAPgkCtlwEIaODHjmh4Z2V0QUbFjM4Rz++h18ZCO1e/Mq/yjq/yFXIu/5EeNC/HVjf/hsBtt1XUNT9hbFrcMEtbgSRXXntFGoMCb6Hnqt4mFR/9SIhkrflhrRlplMIRFLDQm6U9NtJVP3MzzwoTjcTcuuOyoWD6MoaBEhNM8ESrt6UMa+p/gaPVIskvJB+BS9VnriLfbbb/P9ItWHWHwNaVCA0t5PfPSgMNgrxKpHh2ZSyQHAl0iuXXOrIff5epQWNIpvs89N/TUIJdeIklcw2PQo2/HxmGPZ6lbFp8KgNLAgIgpWxURFLdQXh9xSOeUnnAF2yE5KQsX3I7s6F07bXZUCpNy31rxTTBV3Qcwto2GOwBvVMV/6RhnwKuAGQAhDvtqKKOdpPnmqWjywKlndrCVxQPF1Z6GQhe7Y2do2GLDNwRhB1d8/c6ltL2yZOQprOLJlt6PsQxgiuxHG4WGeIQ87pJCsWl7vPYvLGpXhLQCExh8xUNvnzY0+5lusQK0VOqt/+Y95B1379vrNXMuCJdmDfM+hZZVQmaJ9+8um2Dw=
notifications:
  slack:
    secure: PAiNCZf1uGgka60kL2tuOmjaVjDA9W+NV+y3xIWH7SUisHbCyuwuTSHD3rwoxqH8T0CdbS/XvJYVVmqhLByv8AJh5BFcbgjvETZjrtPgkzfE6/mBsCKJFABvflG2p9bU0KSz2o68CuVQsQ09Z+0msLC7g0nZLeWqMBp3RLBVyGK6zCVBLS9A97Jo7E30q427jCQ/pRlGan7euHxRaxTzzhTW9plYOGU/a8QgVJJHrIb/BmB7pDapehBN5h8bPai9YV740DfzSlqdqHdT6HznluCJ/5iamE17Ovgjnv24Y2SrA14fbNcpeI5gYItVWtMbNv74mSyiHbMzqj19FI8gvURDi4asRD/dQqz/rmkiR6/xdTzdr/e/UhpZ8me8SQOC6BUITBrO78NINfo+pK+UiJJcb5DWVNOMwsfn9lAgtkCrXgC/uvF05CPx+3ENLRXiOqsn5BUbmIaqnE2Rz8/Avjoey8XgPO5ri3bMIgm18FPq2qvyCQMe107ozLhOIf/iNirHB6u0+A5EkVblMhaQLUZsGUJFdDOmIjBA/ByuCstPFdXcCsujnAjLMVF3/088CEoXlgrmn98q6+8RLm8mnLBH5ryzooqNm30AKjuVOLEMPLTBoKRBK//2573fq7pTCVoLvHO2JckphrDZixUi1Zwqcj5JWjp/iBlAbfPzkVA=
before_deploy: docker-compose run --rm verifyclient sh -c 'yarn build'
deploy:
  provider: npm
  email: aleksand-isaev@yandex.ru
  api_key:
    secure: KCh+EhZjqnedYgB2U+FOWsCJJgXEGoF3ZnYghqd4C+RAeYEuPQPwEYRlKonLbzoiXIY3VB2Nl1Qf9+//rp+V3HkyjYH6dqLITGubDhLydIsJomS6BMVAuQcYoODZs6SYuL5aG8M/jK1k6pDCmWSZGcIkwB7uFhRI0K4A6CCws2Ev2k43+onAwMop2tj1naruAdUVqT+nGEmyakCozls6Inz6m/Cp1SB4f8Y2kQKaj58V5RNRxwlBii1Ao6Q2piNmbGi2jXc44fLVrH0nh03YFpYQQc+uvdY4gaHY11hItOABxVY7Yf3/iRkNkZT93qjpgpDOJKaGi1L/9+jYCC0J3DGPrr3ZU8PwXRC96D6TapmUKn6jVRxMIQ17wfjm0jFcB7+FUNghXvffe8x5z48t8LmS+QV78v5/w4qqF1T6OWLX9Ou7e/5N3hrxDqfMRpPkSm62uk0j8mzJIk4UZJjfgzfNTDSW89SJGw4igNG50vequS5+MqmmytuI3r3GrjapirFkKxIOQwcmIbCgJ2KsiDyAcEu+9EyO4Th44mKi/PaOHAeihFAQkHmqZGkkk1bTigECNJ1UjwzUv6zg1H3OWBJkuwkF8MQPpx3n7mtlXvOKDbqHLHMSAY3TJGQX/XJV8l7opnSGccFhzmwKcY7wIM8nRJrdX/0WASAOYAjc+ic=
  on:
    tags: true
    repo: JincorTech/verify-ts-client
